<Window x:Class="TaskFlowAI.Presentation.TaskDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        xmlns:domain="clr-namespace:TaskFlowAI.Domain;assembly=TaskFlowAI.Domain"
        Title="Задача" Height="450" Width="600" WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Название -->
        <StackPanel Margin="0,0,0,10">
            <TextBlock Text="Название" Margin="0,0,0,2"/>
            <TextBox Text="{Binding Title, UpdateSourceTrigger=PropertyChanged}" />
        </StackPanel>

        <!-- Описание и остальное -->
        <StackPanel Grid.Row="1">
            <TextBlock Text="Описание" Margin="0,0,0,2"/>
            <TextBox Text="{Binding Description}" AcceptsReturn="True" 
                     VerticalScrollBarVisibility="Auto" Height="150" TextWrapping="Wrap"/>

            <!-- Категория, Приоритет, Статус -->
            <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                <!-- Категория -->
                <StackPanel Width="160">
                    <TextBlock Text="Категория"/>
                    <ComboBox SelectedItem="{Binding Category}">
                        <ComboBox.ItemsSource>
                            <x:Array Type="sys:String">
                                <sys:String>Work</sys:String>
                                <sys:String>Personal</sys:String>
                                <sys:String>Study</sys:String>
                            </x:Array>
                        </ComboBox.ItemsSource>
                    </ComboBox>
                </StackPanel>

                <!-- Приоритет -->
                <StackPanel Width="160" Margin="10,0,0,0">
                    <TextBlock Text="Приоритет"/>
                    <ComboBox SelectedItem="{Binding Priority}">
                        <ComboBox.ItemsSource>
                            <x:Array Type="{x:Type domain:Priority}">
                                <domain:Priority>Low</domain:Priority>
                                <domain:Priority>Medium</domain:Priority>
                                <domain:Priority>High</domain:Priority>
                                <domain:Priority>Urgent</domain:Priority>
                            </x:Array>
                        </ComboBox.ItemsSource>
                    </ComboBox>
                </StackPanel>

                <!-- Статус -->
                <StackPanel Width="160" Margin="10,0,0,0">
                    <TextBlock Text="Статус"/>
                    <ComboBox SelectedItem="{Binding Status}">
                        <ComboBox.ItemsSource>
                            <x:Array Type="{x:Type domain:TaskStatus}">
                                <domain:TaskStatus>Pending</domain:TaskStatus>
                                <domain:TaskStatus>InProgress</domain:TaskStatus>
                                <domain:TaskStatus>Completed</domain:TaskStatus>
                                <domain:TaskStatus>Overdue</domain:TaskStatus>
                            </x:Array>
                        </ComboBox.ItemsSource>
                    </ComboBox>
                </StackPanel>
            </StackPanel>

            <!-- Срок и оценка -->
            <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                <StackPanel Width="160">
                    <TextBlock Text="Срок (дата/время)"/>
                    <DatePicker SelectedDate="{Binding DueDate}"/>
                </StackPanel>
                <StackPanel Width="160" Margin="10,0,0,0">
                    <TextBlock Text="Оценка (часы)"/>
                    <TextBox Text="{Binding EstimatedHours}"/>
                </StackPanel>
            </StackPanel>
        </StackPanel>

        <!-- Кнопки -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button Content="OK" Width="100" Margin="0,0,10,0" IsDefault="True" Click="Ok_Click"/>
            <Button Content="Отмена" Width="100" IsCancel="True"/>
        </StackPanel>
    </Grid>
</Window>
